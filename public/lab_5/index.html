<!DOCTYPE html>
<html lang = "en">
    <head>
        <link href="styles.css" rel="stylesheet">
        <title>
            Jared Woodard Lab 4
        </title>
    </head>
    <body>
        <div>
            <div>
                <div class="header">
                    <h1>Jared Woodard Lab 4</h1>
                </div>
                <form action="/api" method="post">
                    <ul class="flex-outer">
                        <li>
                            <label for="fname">First Name</label>
                            <input type="text" id="fname" maxlength="140" placeholder="Enter your first name here...">
                        </li>
                        <li>
                            <label for="lname">Last Name</label>
                            <input type="text" id="lname" maxlength="140" placeholder="Enter your last name here...">
                        </li>
                        <li>
                            <label for="email">Email</label>
                            <input type="email" id="email" placeholder="Enter your email here...">
                        </li>
                        <li>
                            <label for="phone">Phone</label>
                            <input type="tel" id="phone" placeholder="Enter your phone number here...">
                        </li>
                        <li>
                            <label for="message">Message</label>
                            <textarea rows="5" cols="33" id="message" name = "message" placeholder="Enter your message here..."></textarea>
                        </li>
                        <li>
                            <p class="checkbox-list-label">Age</p>
                            <ul class="flex-inner">
                                <li>
                                    <input type="checkbox" id="eightteen-to-thirtyfive">
                                    <label for="eightteen-to-thirtyfive">18-35</label>
                                </li>
                                <li>
                                    <input type="checkbox" id="thirtyfive-to-fifty">
                                    <label for="thirtyfive-to-fifty">35-50</label>
                                </li>
                                <li>
                                    <input type="checkbox" id="fifty-to-sixtyfive">
                                    <label for="fifty-to-sixtyfive">50-65</label>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <button type="submit">Submit</button>
                            <button type="activate" onclick="testFunction()">Activate</button>
                        </li>
                    </ul>
                </form>
            </div>
        </div>
        <script>
            function testFunction() {
                fetch('/api')
                .then((response) => response.text())
                .then((response) => {
                    // Part 10
                    const mainHeader = document.querySelector('h1')
                    const pageTitle = document.querySelector('title')
                    mainHeader.innerHTML = response;
                    pageTitle.innerHTML = response;

                    // Part 11
                    const BodyColor = "rgb(" + 255 + "," + 0 + "," + 0 + ")"
                    document.body.style.backgroundColor = BodyColor;

                    // Part 12
                    const element = document.getElementsByClassName(".flex-outer")
                    element.style = "margin: auto;";

                    //part 13
                    const ListLabel = document.querySelector('.checkbox-list-label');
                    ListLabel.innerHTML = "<p>Fruits</p>";

                    const FruitArray = ['Apple', 'Pear', 'Tomato'];
                    const ListElements = document.querySelectorAll('.flex-inner > li > label');
                    ListElements.forEach((element, i) => {
                        element.innerText = FruitArray[i];
                    })
                })
            }
        </script>
    </body>
</html>
